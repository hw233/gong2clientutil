交互检查规则,,,,,,,,
导出规则,,,,,,,,
分类,,,,,,,,
表头,公式编号,公式名称,公式命名,相关公式,公式引用,自己属性,对方属性,公式类型
关键字标识,Y,,,,,,,
唯一标识,Y,,Y,,,,,
非空标识,Y,,Y,Y,,,,
检查规则,,,,,,,,
变量名称,sid,describe,funName,formula,fmlaCite,,,
变量类型,I,S,S,S,E,,,
变量空间,s,s,s,s,s,,,
,,,,,,,,
BEGIN,服务端公式表,s_formula_data,,,,,,
,99001,最终命中率公式,finalHitRate,o.hitRate-t.dgeRate,,,,属性计算公式
,99002,最终暴击率公式,finalCriRate,o.criRate-t.dcriRate,,,,属性计算公式
,99003,最小伤害公式,minDmg,o.lv*10*(math.random()*0.05+0.16)*-1,,,,属性计算公式
,99004,普攻伤害公式,ptDmg,"math.min((o.atk-t.def)*-1,minDmg)","(99003,)",,,属性计算公式
,99005,反击伤害公式,datkDmg,"math.min((o.atk-t.def)*-1,minDmg)","(99003,)",,,属性计算公式
,99006,暴击伤害率,criProb,1.5+o.focusRate,,,,
,99007,技能升级需求银两数,skillMoney,(lv-1+(lv*lv/50))*25,,,,
,99008,装备战力公式,equipZl,equipHp*1+equipMp*1+equipAtk*3+equipPower*3+equipDef*3+equipDpower*3+equipSpd*3+equipHit*1+equipDge*1+equipCri*1+equipDcri*1+equipFocus*1,,,,
,99009,仆从战力公式,mentuZl,o.maxHp*1+o.maxMp*1+o.atk*3*(1+o.dmgIncrease)+o.power*3*(1+o.dmgIncrease)+o.def*3*(1+o.allDefAdd)+o.dpower*3*(1+o.allDpowerAdd)+o.spd*3+o.hit*1+o.dge*1+o.cri*1+o.dcri*1+o.focus*1+o.seal*10000+o.sealRes*10000,,,,
,99010,总战力公式,totalZl,mentuZl+fbZl,"(99009,)",,,
,99011,擂台经验奖励,ltExp,100,,,,
,99012,擂台金钱奖励,ltMoney,100,,,,
,99013,法术普攻伤害公式,dmg,"math.min((o.power-t.dpower)*-1,minDmg)","(99003,)",,,
,99014,转职消耗元宝,zzMoney,"math.max((lv-30),0)*10+100",,,,
,99017,1级鲜花收获概率,stochastic_1,"math.min((num*0.002),0.1)",,,,
,99018,魅力值公式,charm,(dressCharm+flowerCharm+gradeCharm+xiaoQieCharm+cheweiCharm+gtswCharm+taozhuangCharm+collectCharm)*(1+dressCharmPercent+collectCharmPercent),,,,
,99019,技能消耗道具公式,skillItem,lv*1,,,,
,99100,农田最大数量,soilMaxCount_0,math.floor((lv-buildLv)/2+2)*2,,,,
,99101,建筑数量为一个,soilMaxCount_1,1,,,,
,99102,建筑数量为3个,soilMaxCount_2,math.floor(lv/5),,,,
,99103,每5级开放1个,soilMaxCount_5_1,math.floor(lv-buildLv)/5+1,,,,
,99104,每4级开放1个,soilMaxCount_4_1,math.floor(lv-buildLv)/4+1,,,,
,99105,每3级开放1个,soilMaxCount_3_1,math.floor(lv-buildLv)/3+1,,,,
,99106,每2级开放1个,soilMaxCount_2_1,math.floor(lv-buildLv)/2+1,,,,
,99107,每5级开放2个,soilMaxCount_5_2,soilMaxCount_5_1*2,"(99103,)",,,
,99108,每4级开放2个,soilMaxCount_4_2,soilMaxCount_4_1*2,"(99104,)",,,
,99109,每3级开放2个,soilMaxCount_3_2,soilMaxCount_3_1*2,"(99105,)",,,
,99110,每2级开放2个,soilMaxCount_2_2,soilMaxCount_2_1*2,"(99106,)",,,
,99111,每5级开放3个,soilMaxCount_5_3,soilMaxCount_5_1*3,"(99103,)",,,
,99112,每4级开放3个,soilMaxCount_4_3,soilMaxCount_4_1*3,"(99104,)",,,
,99113,每3级开放3个,soilMaxCount_3_3,soilMaxCount_3_1*3,"(99105,)",,,
,99114,每2级开放3个,soilMaxCount_2_3,soilMaxCount_2_1*3,"(99106,)",,,
,99115,每1级开放2个,soilMaxCount_3,math.floor(lv-buildLv)*2+2,,,,
,99116,每1级开放3个,soilMaxCount_4,math.floor(lv-buildLv)*3+3,,,,
,99117,每1级开放4个,soilMaxCount_5,math.floor(lv-buildLv)*4+4,,,,
,99118,每1级开放5个,soilMaxCount_6,math.floor(lv-buildLv)*5+5,,,,
,99119,每1级开放6个,soilMaxCount_7,math.floor(lv-buildLv)*6+6,,,,
,99120,"每1级开放2个,初始开21个",soilMaxCount_8,math.floor(lv-buildLv)*2+2+21,,,,
,99121,"每1级开放2个,初始开17个",soilMaxCount_9,math.floor(lv-buildLv)*2+2+17,,,,
,99400,一鸣惊人伤害,damge_1000,"math.min((o.atk*(0.85+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDefAdd))*-1,minDmg)","(99003,)",,,
,99401,河东狮吼伤害,damge_1001,"math.min((o.atk*(2+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDefAdd))*-1*0.33,minDmg)","(99003,)",,,
,994010,河东狮吼伤害,damge_10011,"math.min((o.atk*(2.2+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDefAdd))*-1*0.33,minDmg)","(99003,)",,,
,99402,霓虹飞天伤害,damge_1002,"math.min((o.atk*(1.2+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDefAdd))*-1,minDmg)","(99003,)",,,
,99403,绵里藏针伤害,damge_1003,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99405,杨枝甘露复活,damge_1005,o.power*(0.3+lv*0.005)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage),,,,
,99406,晴天霹雳伤害,damge_1006,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99407,秉烛达旦伤害,damge_1007,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99408,道山学海伤害,damge_1008,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99409,闭月羞花伤害,damge_1009,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99410,沉鱼落雁伤害,damge_1010,"math.min((o.power*(1.45+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99411,龙凤在天伤害,damge_1011,"math.min((o.power*(1.25+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99412,佛跳墙伤害,damge_1012,"math.min((o.atk*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDefAdd))*-1,minDmg)","(99003,)",,,
,99413,丁氏猪肉伤害,damge_1013,"math.min((o.atk*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDefAdd))*-1,minDmg)","(99003,)",,,
,99414,满汉全席加血,damge_1014,o.atk*(0.3+lv*0.005)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage),,,,
,99415,爆炒伤害,damge_1015,"math.min((o.atk*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDefAdd))*-1,minDmg)","(99003,)",,,
,99416,暗杀伤害,damge_1016,"math.min((o.atk*(1.2+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDefAdd))*-1,minDmg)","(99003,)",,,
,99417,飞针,damge_1017,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99418,流言,damge_1018,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99420,落墨,damge_1020,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99421,钟灵毓秀,damge_1021,o.power*(1.1+lv*0.005)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage),,,,
,99500,太医持续回血,buff_1000,o.power*(0.4+lv*0.005)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage),,,,
,99501,中毒,buff_1001,"math.min((o.atk*(0.9+lv*0.0035)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
物理单体攻击1个目标,100000,兵临城下,hzDamege_1000,"math.min((o.atk*(1.45+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDefAdd))*-1,minDmg)","(99003,)",,,
物理单体攻击3个目标,100001,凤鸣矢,hzDamege_1001,"math.min((o.atk*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
法术攻击3个目标,100002,空灵闪,hzDamege_1002,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
法术攻击1个目标,100003,醉芙蓉,hzDamege_1003,"math.min((o.power*(1.45+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
法术攻击3个目标,100004,双飞火,hzDamege_1004,"math.min((o.power*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
"法术攻击3个目标,并使目标中毒",100005,百蛊啖魂,hzDamege_1005,"math.min((o.power*(0.9+lv*0.0035)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.dpower*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
物理单体攻击1个目标,100006,出其不意,hzDamege_1006,"math.min((o.atk*(1.45+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
物理单体攻击3个目标,100007,分花抚柳,hzDamege_1007,"math.min((o.atk*(1+lv*0.003)*(1+o.dmgIncrease+o.zfXkAdd+fabaoAddDamage)-t.def*(1+t.allDpowerAdd))*-1,minDmg)","(99003,)",,,
,99502,学士混乱,buff_1002,0,,,,
,99503,学士法封,buff_1003,0,,,,
,99504,御厨法封,buff_1004,0,,,,
,99505,御厨解封,buff_1005,0,,,,
,99506,侍卫后发制人加攻击,buff_1006,1.7,,,,
,99507,侍卫后发制人加物防,buff_1007,2,,,,
,99508,侍卫后发制人加法防,buff_1008,2,,,,
,99509,侍卫后发制人加速度,buff_1009,2,,,,
,99510,横扫千军虚弱减物防,buff_1010,-0.5,,,,
,99511,横扫千军虚弱减法防,buff_1011,-0.5,,,,
,99512,buff必中,buffHit_1012,1,,,,
,99513,失魂符命中,buff_1013,0.35+(lv*0.002)+buffAddProb+o.seal-t.sealRes,,,,
,99514,催眠符命中,buff_1014,0.35+(lv*0.002)+buffAddProb+o.seal-t.sealRes,,,,
,99515,丁氏猪肉命中,buff_1015,0.35+(lv*0.002)+buffAddProb+o.seal-t.sealRes,,,,
,99516,满汉全席命中,buff_1016,0.8+(lv*0.002),,,,
,99517,减物防,buff_1017,0.1+(lv*0.002)+buffAddProb,,,,
,99518,减法防,buff_1018,0.1+(lv*0.002)+buffAddProb,,,,
,99519,法封-物防,buff_1019,0.1+(lv*0.002),,,,
,99520,法封-法防,buff_1020,0.1+(lv*0.002),,,,
,99600,消耗蓝,expend_1000,math.floor((lv*2+35)*per),,,,
,99601,侍卫消耗血,expend_1001,0.07*maxHp,,,,
,99602,消耗蓝2,expend_1002,math.floor((lv*3+35)*per),,,,
,99603,消耗蓝3,expend_1003,math.floor((lv*4+35)*per),,,,
,99604,皇子兵临城下消耗血,expend_1004,0.20*maxHp,,,,
,99730,古阵探宝返还银两,gztbMoney,money/2,,,,
,99731,古阵探宝元宝返还银两,gztbYbMoney,money,,,,
,99200,俸禄,grade_0,gradeLv0>=5,,,,
,99201,禁言,grade_1,gradeLv0>=14,,,,
,99221,禁言,grade_39,gradeLv0>gradeLv1,,,,
,99203,请安,grade_3,gradeLv0<=gradeLv1,,,,
,99204,召见,grade_4,gradeLv0>gradeLv1,,,,
,99223,召见,grade_38,gradeLv0>=9,,,,
,99205,皮鞭,grade_5,gradeLv0>=2,,,,
,99206,掌嘴,grade_6,gradeLv0>=5,,,,
,99207,扎针,grade_7,gradeLv0>=3,,,,
,99208,下毒,grade_8,gradeLv0>=2,,,,
,99209,巫蛊（扎小人）,grade_9,gradeLv0>=3,,,,
,99210,朝拜,grade_10,gradeLv0>=4&&gradeLv0<=21,,,,
,99211,大赦天下,grade_11,gradeLv0=21,,,,
,99212,观赏,grade_12,gradeLv0>=7,,,,
,99213,上书,grade_13,gradeLv0>=8,,,,
,99214,告发,grade_14,gradeLv0>=10,,,,
,99215,提拔,grade_15,gradeLv0>=13,,,,
,99216,皮鞭,grade_16,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99217,掌嘴,grade_17,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99218,扎针,grade_18,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99219,下毒,grade_19,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99220,巫蛊（扎小人）,grade_20,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99224,观赏,grade_21,1,,,,
,99225,上书,grade_22,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99226,告发,grade_23,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99227,烧连理枝,grade_24,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99228,烧连理枝,grade_25,gradeLv0>=11,,,,
,99229,惩罚,grade_26,gradeLv0>=19,,,,
,99230,惩罚成功率,grade_27,1,,,,
,99231,惩罚扣除势力值,grade_28,0.05,,,,
,99232,惩罚,grade_29,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99233,变猪头,grade_30,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99234,变单身汪,grade_31,"math.min((gradeLv0-gradeLv1)*0.1+0.5,1)",,,,
,99235,变猪头,grade_32,gradeLv0>=12,,,,
,99236,变单身汪,grade_33,gradeLv0>=12,,,,
,99237,弹劾,grade_34,gradeLv0>=9,,,,
,99238,弹劾成功率,grade_35,1,,,,
,99239,弹劾对方官品,grade_36,gradeLv1>=9,,,,
,99240,弹劾公式,grade_37,"(100+math.max((gradeLv0-gradeLv1)*20,0))*(mlz+frd)",,,,
,99700,世界boss伤害奖励（银子）,bossMoney,"math.min(math.max(parseInt(ttlDmg/50),100),200)",,,,
,99701,世界boss伤害奖励（勾玉）,bossgouyu,5,,,,
,99164,押注成功奖励公式,yazhuMoney,moneyAward*rank,,,,
,99165,押注成功加爆冷公式,yzblMoney,moneyAward*rank+bsAward*rank,,,,
,99166,押注声望奖励公式,yzsw,swAward*rank,,,,
,99167,押注声望爆冷,yzblsw,swAward*rank+blswAward*rank,,,,
,99168,小组赛奖励,groupAward,1800+200*(round-2),,,,
,99169,跨服押注成功奖励公式,kfYazhuMoney,moneyAward*rank,,,,
,99170,跨服押注成功加爆冷公式,kfYzblMoney,moneyAward*rank+bsAward*rank,,,,
,99171,跨服押注声望奖励公式,kfYzsw,swAward*rank,,,,
,99172,跨服押注声望爆冷,kfYzblsw,swAward*rank+blswAward*rank,,,,
,99173,跨服小组赛奖励,kfGroupAward,"100+math.max(200*(round-2),0)",,,,
,,,,,,,,
,,,,,,,,
,,,,,,,,
,,,,,,,,
,,,,,,,,
,,,,,,,,
,,,,,,,,
,,,,,,,,
,,,,,,,,
